<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NewsPulse - Latest Breaking News & Updates</title>
    <meta name="description" content="Get the latest breaking news, top stories, and in-depth reporting from around the world on NewsPulse">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Adsense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8204725289226074"
     crossorigin="anonymous"></script>
    
    <style>
        .news-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }
        
        .ad-slot {
            background: #f5f5f5;
            border: 1px dashed #ccc;
            min-height: 250px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .breaking-news-ticker {
            background: linear-gradient(90deg, #ff4d4d, #f22cb1);
            color: white;
        }
        
        .category-btn.active {
            background-color: #1a365d;
            color: white;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header with Ad Slot -->
    <header class="bg-white shadow-sm">
        <div class="container mx-auto px-4 py-3">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="flex items-center mb-4 md:mb-0">
                    <h1 class="text-3xl font-bold text-blue-800">News<span class="text-red-600">Pulse</span></h1>
                    <span class="ml-2 px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full">LIVE</span>
                </div>
                
                <!-- Top Ad Slot -->
                <div class="w-full md:w-auto ad-slot">
                    <!-- Ad will be loaded here -->
                    <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                </div>
            </div>
        </div>
        
        <!-- Navigation -->
        <nav class="bg-blue-800 text-white">
            <div class="container mx-auto px-4">
                <div class="flex flex-col md:flex-row justify-between items-center">
                    <div class="flex flex-wrap py-3 gap-2">
                        <button data-category="general" class="category-btn active px-3 py-1 rounded-md hover:bg-blue-700">Top Stories</button>
                        <button data-category="business" class="category-btn px-3 py-1 rounded-md hover:bg-blue-700">Business</button>
                        <button data-category="technology" class="category-btn px-3 py-1 rounded-md hover:bg-blue-700">Technology</button>
                        <button data-category="health" class="category-btn px-3 py-1 rounded-md hover:bg-blue-700">Health</button>
                        <button data-category="entertainment" class="category-btn px-3 py-1 rounded-md hover:bg-blue-700">Entertainment</button>
                        <button data-category="sports" class="category-btn px-3 py-1 rounded-md hover:bg-blue-700">Sports</button>
                    </div>
                    
                    <div class="pb-3 md:pb-0">
                        <button class="bg-white text-blue-800 px-4 py-1 rounded-md font-medium hover:bg-blue-100">
                            Subscribe
                        </button>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <!-- Breaking News Ticker -->
    <div class="breaking-news-ticker py-2">
        <div class="container mx-auto px-4">
            <div class="flex items-center">
                <span class="font-bold mr-3">BREAKING:</span>
                <div class="ticker-content overflow-hidden">
                    <ul class="ticker-list flex space-x-8 whitespace-nowrap">
                        <!-- Will be populated by JavaScript -->
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <main class="container mx-auto px-4 py-6">
        <div class="flex flex-col lg:flex-row gap-6">
            <!-- Main Content -->
            <div class="lg:w-2/3">
                <!-- Featured Article -->
                <div id="featured-article" class="bg-white rounded-lg shadow-md overflow-hidden mb-6">
                    <!-- Will be populated by JavaScript -->
                </div>
                
                <!-- Mid-content Ad Slot -->
                <div class="my-6 ad-slot">
                    <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                </div>
                
                <!-- News Grid -->
                <h3 class="text-xl font-bold mb-4 border-b pb-2">Latest News</h3>
                <div class="grid md:grid-cols-2 gap-6" id="news-grid">
                    <!-- Will be populated by JavaScript -->
                </div>
                
                <!-- Load More Button -->
                <div class="text-center mt-6">
                    <button id="load-more" class="bg-blue-800 text-white px-6 py-2 rounded-md hover:bg-blue-700">
                        Load More Stories
                    </button>
                </div>
            </div>
            
            <!-- Sidebar -->
            <div class="lg:w-1/3">
                <!-- Sidebar Ad Slot -->
                <div class="bg-white p-4 rounded-lg shadow-md mb-6 ad-slot">
                    <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                </div>
                
                <!-- Trending Now -->
                <div class="bg-white p-4 rounded-lg shadow-md mb-6">
                    <h3 class="text-lg font-bold mb-4 border-b pb-2">Trending Now</h3>
                    <ul class="space-y-3" id="trending-list">
                        <!-- Will be populated by JavaScript -->
                    </ul>
                </div>
                
                <!-- Newsletter Signup -->
                <div class="bg-blue-50 p-4 rounded-lg shadow-md mb-6">
                    <h3 class="text-lg font-bold mb-2">Stay Updated</h3>
                    <p class="text-sm text-gray-600 mb-3">Get the latest news delivered to your inbox</p>
                    <form class="space-y-3">
                        <input type="email" placeholder="Your email address" class="w-full px-3 py-2 border rounded-md">
                        <button type="submit" class="w-full bg-blue-800 text-white py-2 rounded-md hover:bg-blue-700">
                            Subscribe
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8">
        <div class="container mx-auto px-4">
            <div class="grid md:grid-cols-3 gap-8">
                <div>
                    <h3 class="text-xl font-bold mb-4">News<span class="text-red-400">Pulse</span></h3>
                    <p class="text-gray-400">Delivering accurate and timely news from around the globe.</p>
                </div>
                <div>
                    <h4 class="font-bold mb-4">Quick Links</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white">Home</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">About Us</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Contact</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Advertise With Us</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold mb-4">Connect With Us</h4>
                    <div class="flex space-x-4 mb-4">
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-6 text-center text-gray-400 text-sm">
                <p>Â© 2023 NewsPulse. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
      <script>
    // Configuration
    const API_KEY = '9de11de89dc54d3b89a2a55b95667735';
    let currentCategory = 'general';
    let currentPage = 1;
    
    // DOM Elements
    const newsGrid = document.getElementById('news-grid');
    const featuredArticle = document.getElementById('featured-article');
    const categoryBtns = document.querySelectorAll('.category-btn');
    const loadMoreBtn = document.getElementById('load-more');
    const trendingList = document.getElementById('trending-list');
    const tickerList = document.querySelector('.ticker-list');
    
    // Fetch news from API with error handling
    async function fetchNews(category = 'general', page = 1) {
        try {
            console.log(`Fetching ${category} news, page ${page}`);
            const response = await fetch(`api-proxy.php?category=${category}&page=${page}`);
            
            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }
            
            const data = await response.json();
            return data.articles || [];
        } catch (error) {
            console.error('Error fetching news:', error);
            
            // Fallback data
            return [{
                title: "Breaking: NewsPulse Launches!",
                description: "Welcome to NewsPulse! We're currently setting up our news feed.",
                urlToImage: "https://via.placeholder.com/800x450",
                source: { name: "NewsPulse" },
                publishedAt: new Date().toISOString()
            }];
        }
    }
    
    // Display news articles
    async function displayNews(category = currentCategory, page = 1) {
        const articles = await fetchNews(category, page);
        
        if (page === 1) {
            newsGrid.innerHTML = '';
            
            // Display featured article
            if (articles.length > 0) {
                const featured = articles[0];
                featuredArticle.innerHTML = `
                    <img src="${featured.urlToImage || 'https://via.placeholder.com/800x450'}" 
                         alt="${featured.title}" 
                         class="w-full h-64 object-cover">
                    <div class="p-6">
                        <span class="inline-block px-3 py-1 bg-red-100 text-red-800 rounded-full text-xs mb-2">FEATURED</span>
                        <h2 class="text-2xl font-bold mb-2">${featured.title}</h2>
                        <p class="text-gray-600 mb-4">${featured.description || ''}</p>
                        <div class="flex items-center text-sm text-gray-500">
                            <span>${featured.source?.name || 'Source'}</span>
                            <span class="mx-2">â¢</span>
                            <span>${new Date(featured.publishedAt).toLocaleDateString()}</span>
                        </div>
                    </div>
                `;
            }
        }
        
        // Display other articles
        const startIndex = page === 1 ? 1 : 0;
        for (let i = startIndex; i < articles.length; i++) {
            const article = articles[i];
            const newsCard = document.createElement('div');
            newsCard.className = 'bg-white rounded-lg shadow-md overflow-hidden news-card';
            newsCard.innerHTML = `
                <img src="${article.urlToImage || 'https://via.placeholder.com/400x225'}" 
                     alt="${article.title}" 
                     class="w-full h-48 object-cover">
                <div class="p-4">
                    <h3 class="font-bold mb-2">${article.title}</h3>
                    <p class="text-gray-600 text-sm mb-3">${article.description ? article.description.substring(0, 100) + '...' : ''}</p>
                    <div class="flex items-center text-xs text-gray-500">
                        <span>${article.source?.name || 'Source'}</span>
                        <span class="mx-2">â¢</span>
                        <span>${new Date(article.publishedAt).toLocaleDateString()}</span>
                    </div>
                </div>
            `;
            newsGrid.appendChild(newsCard);
        }
        
        // Push ads after content loads
        (adsbygoogle = window.adsbygoogle || []).push({});
    }
    
    // Initialize trending list
    async function initTrending() {
        const articles = await fetchNews('general', 1);
        const trendingArticles = articles.slice(0, 5);
        
        trendingList.innerHTML = trendingArticles.map((article, index) => `
            <li class="flex items-start">
                <span class="text-gray-500 font-bold mr-2">${index + 1}.</span>
                <div>
                    <a href="#" class="hover:text-blue-800">${article.title}</a>
                    <p class="text-xs text-gray-500">${article.source?.name || 'Source'}</p>
                </div>
            </li>
        `).join('');
    }
    
    // Initialize ticker
    async function initTicker() {
        const articles = await fetchNews('general', 1);
        const headlines = articles.slice(0, 5).map(article => article.title);
        
        // Fallback if API fails
        if (headlines.length === 0) {
            headlines.push("Welcome to NewsPulse - Your daily news source");
            headlines.push("Stay tuned for the latest updates");
        }
        
        // Duplicate for seamless looping
        const tickerItems = [...headlines, ...headlines];
        
        tickerList.innerHTML = tickerItems.map(headline => `
            <li class="inline-block px-4">${headline}</li>
        `).join('');
        
        // Animate ticker
        let position = 0;
        const tickerAnimation = setInterval(() => {
            position -= 1;
            if (position <= -tickerList.scrollWidth / 2) {
                position = 0;
            }
            tickerList.style.transform = `translateX(${position}px)`;
        }, 30);
    }
    
    // Initialize category buttons
    function initCategories() {
        categoryBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                // Update active button
                categoryBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                // Update current category
                currentCategory = btn.dataset.category;
                currentPage = 1;
                
                // Load news for new category
                displayNews(currentCategory);
            });
        });
    }
    
    // Initialize the page
    document.addEventListener('DOMContentLoaded', () => {
        displayNews();
        initTrending();
        initTicker();
        initCategories();
        
        // Load more news
        loadMoreBtn.addEventListener('click', () => {
            currentPage++;
            displayNews(currentCategory, currentPage);
        });
        
        // Show console message for debugging
        console.log("NewsPulse initialized successfully");
    });
</script>
    </script>
</body>
</html>
